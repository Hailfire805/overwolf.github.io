"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2249],{35318:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>h});var n=r(27378);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var p=n.createContext({}),u=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},b=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,i=e.originalType,p=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),c=u(r),b=s,h=c["".concat(p,".").concat(b)]||c[b]||d[b]||i;return r?n.createElement(h,o(o({ref:t},l),{},{components:r})):n.createElement(h,o({ref:t},l))}));function h(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var i=r.length,o=new Array(i);o[0]=b;var a={};for(var p in t)hasOwnProperty.call(t,p)&&(a[p]=t[p]);a.originalType=e,a[c]="string"==typeof e?e:s,o[1]=a;for(var u=2;u<i;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}b.displayName="MDXCreateElement"},92235:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>a,toc:()=>u});var n=r(25773),s=(r(27378),r(35318));const i={id:"subscriptions-integration",image:"/img/embed/getting-started.jpg",title:"Integrate subscriptions in your app",sidebar_label:"Integrate subscriptions",sidebar_custom_props:{tags:{overwolf_platform:!0,electron_platform:!1}}},o=void 0,a={unversionedId:"start/monetize-with-subs/subscriptions-integration",id:"start/monetize-with-subs/subscriptions-integration",title:"Integrate subscriptions in your app",description:"This article will provide a step by step explanation for how to set up and manage your app's subscription features. If you need assistance or encounter issues, talk to us!",source:"@site/pages/docs/start/monetize-with-subs/subscriptions-integration.mdx",sourceDirName:"start/monetize-with-subs",slug:"/start/monetize-with-subs/subscriptions-integration",permalink:"/start/monetize-with-subs/subscriptions-integration",draft:!1,editUrl:"https://github.com/overwolf/overwolf.github.io/tree/source/website/pages/docs/start/monetize-with-subs/subscriptions-integration.mdx",tags:[],version:"current",lastUpdatedBy:"OdedItkinOW",lastUpdatedAt:1692100274,formattedLastUpdatedAt:"Aug 15, 2023",frontMatter:{id:"subscriptions-integration",image:"/img/embed/getting-started.jpg",title:"Integrate subscriptions in your app",sidebar_label:"Integrate subscriptions",sidebar_custom_props:{tags:{overwolf_platform:!0,electron_platform:!1}}},sidebar:"start",previous:{title:"Subscriptions user flow",permalink:"/start/monetize-with-subs/subscriptions-flow"},next:{title:"Subscriptions overview",permalink:"/start/monetize-with-subs/subscriptions-overview"}},p={},u=[{value:"Preparing subscription assets",id:"preparing-subscription-assets",level:2},{value:"1. Create a Demo Subscription Plan",id:"1-create-a-demo-subscription-plan",level:2},{value:"2. Define your App&#39;s Premium Features",id:"2-define-your-apps-premium-features",level:2},{value:"3. Add an Easy Way to Subscribe",id:"3-add-an-easy-way-to-subscribe",level:2},{value:"3. Check Whether the User is Subscribed",id:"3-check-whether-the-user-is-subscribed",level:2},{value:"4. Monitor Subscription Changes",id:"4-monitor-subscription-changes",level:2},{value:"Notes",id:"notes",level:2}],l={toc:u};function c(e){let{components:t,...i}=e;return(0,s.kt)("wrapper",(0,n.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"This article will provide a step by step explanation for how to set up and manage your app's subscription features. If you need assistance or encounter issues, talk to us!"),(0,s.kt)("h2",{id:"preparing-subscription-assets"},"Preparing subscription assets"),(0,s.kt)("p",null,"Before implementing subscriptions into your app, prepare the core assets required for this implementation including store assets, potential landing page materials and anything else you\u2019re going to need. "),(0,s.kt)("p",null,"As mentioned ",(0,s.kt)("a",{parentName:"p",href:"subscriptions-overview"},"before"),", any premium-only features need to be tested and polished before becoming available. Remember that paying customers and free users have different standards and expectations from you as the app\u2019s creator."),(0,s.kt)("h2",{id:"1-create-a-demo-subscription-plan"},"1. Create a Demo Subscription Plan"),(0,s.kt)("p",null,'The first step to take is creating a new subscription plan and setting it in a "test" state.',(0,s.kt)("br",{parentName:"p"}),"\n","Right now we have to do that for you (after you fill up ",(0,s.kt)("a",{parentName:"p",href:"subscriptions-request-form"},"this form"),"), but in the future you'll be able to do it independently from our dev console."),(0,s.kt)("admonition",{title:"Notes",type:"note"},(0,s.kt)("ul",{parentName:"admonition"},(0,s.kt)("li",{parentName:"ul"},'Only whitelisted app "owners" with a live app on our store can create a subscription plan.  '),(0,s.kt)("li",{parentName:"ul"},"For now, you may only create a single plan for each app. This might change in the future. "))),(0,s.kt)("p",null,"Once created, we will send you a new ",(0,s.kt)("strong",{parentName:"p"},"subscription plan id"),"."),(0,s.kt)("h2",{id:"2-define-your-apps-premium-features"},"2. Define your App's Premium Features"),(0,s.kt)("p",null,"At this point, you should already know what your premium users will get for subscribing, usually exclusive perks or services.",(0,s.kt)("br",{parentName:"p"}),"\n",'To simplify this guide, we assume that your core offering for premium users will be an "ad-free" version of your app.'),(0,s.kt)("h2",{id:"3-add-an-easy-way-to-subscribe"},"3. Add an Easy Way to Subscribe"),(0,s.kt)("p",null,'You can add a link to your app\'s page in the Overwolf store as an in-app Call to Action to subscribe. In our example, our plan offers an "ad-free" version of the app. So the best location will be right under the ad which will be removed:'),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"remove an ad",src:r(48301).Z,width:"298",height:"212"})),(0,s.kt)("p",null,"When users click the link, you should call to ",(0,s.kt)("a",{parentName:"p",href:"/api/utils"},"overwolf.utils.openStore()"),".  "),(0,s.kt)("p",null,"This will opens the current app\u2019s subscriptions page in the Overwolf Appstore:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"overwolf.utils.openStore({\n   page:overwolf.utils.enums.eStorePage.SubscriptionPage\n  })\n")),(0,s.kt)("p",null,"The app's subscription page will open in a new window:"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"subscriptions page",src:r(25546).Z,width:"900",height:"560"})),(0,s.kt)("p",null,"Once the user successfully finishes the subscription process, a ",(0,s.kt)("a",{parentName:"p",href:"#4-monitor-subscription-changes"},"SubscriptionChangedEvent")," is triggered.  "),(0,s.kt)("h2",{id:"3-check-whether-the-user-is-subscribed"},"3. Check Whether the User is Subscribed"),(0,s.kt)("p",null,"To properly reward subscribed users with premium features (in this case, removing ads), you should check whether your current subscription plan is active for the current user. We will do that using the ",(0,s.kt)("a",{parentName:"p",href:"/api/profile/subscriptions#getactiveplanscallback"},"overwolf.profile.subscriptions.getActivePlans()")," function:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"var myPlanID = APP_PLAN_ID; // my app's subscription plan id\nvar isSubscribed = false; // flag that tells if the current user got an active subscription\n\nfunction removeAds() {\n  /* Here, you'll need to implement two parts:\n   * 1 - Locate all Ad containers in the app, and call .shutdown() on them (see more in the Ads SDK documentation).\n   * 2 - Prevent any future Ad containers from being created, for as long as the user is still subscribed.\n   */\n  throw new Error(\"Not Implemented!\")\n}\n\n\noverwolf.profile.subscriptions.getActivePlans(function(info) { \n  if (info.success && info.plans != null && info.plans.includes(myPlanID)) {    \n    isSubscribed = true;\n    removeAds();\n  }\n});\n")),(0,s.kt)("h2",{id:"4-monitor-subscription-changes"},"4. Monitor Subscription Changes"),(0,s.kt)("p",null,"You can register to the ",(0,s.kt)("a",{parentName:"p",href:"/api/profile/subscriptions#onsubscriptionchanged"},"overwolf.profile.subscriptions.onSubscriptionChanged")," event which fires when the current extension subscription status has changed.  "),(0,s.kt)("p",null,"If a user canceled their subscription or the subscription expired while the app is running, you can spot it on time and sync your app behavior accordingly."),(0,s.kt)("p",null,"And there you have it! These are the basics of subscribing users to your app. We encourage you to figure out valuable premium plans and subscription features that will motivate your users to go premium. "),(0,s.kt)("h2",{id:"notes"},"Notes"),(0,s.kt)("p",null,"As the app owner, you have the option to add subscribers (usually for testing) through your dev console. Note that using this method is not the best way to test, as sync and other issues might prevent the new subscriber from being displayed as an active subscriber in the OW client settings page or even through the API (getActivePlans() can return 0 active subscriptions for example)."),(0,s.kt)("p",null,"Therefore, the best way to test subscription-related issues is to follow the end-user scenario - open the plan page, hit the subscribe button, and purchase a test subscription."))}c.isMDXComponent=!0},48301:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/remove-an-ad-d466cbcd77cf24d18ca7c01f7be3dda3.png"},25546:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/subscription-page-b4df57c06da9291e220de414bc019b65.png"}}]);